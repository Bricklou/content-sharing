<div class="login" *transloco="let t; read: 'pages.oauth2_callback'">
  <header>
    <a
      routerLink="/"
      class="link back"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
      ariaCurrentWhenActive="page">
      <lucide-angular name="arrow-left"></lucide-angular>
      <span>{{ t('back_to_homepage') }}</span>
    </a>
  </header>
  <div class="card" *ngIf="is_config_valid(); else elseNoConfig">
    <h1>{{ t('title') }}</h1>

    <div class="loading-icon" *ngIf="!error; else showError">
      <lucide-angular name="loader-2" class="icon"></lucide-angular>
    </div>

    <ng-template #showError>
      <div class="alert">
        <app-alert type="error">
          {{ error }}
        </app-alert>
      </div>
    </ng-template>
  </div>
  <ng-template #elseNoConfig>
    <div class="card">
      <p class="error">{{ t('no_config') }}</p>
    </div>
  </ng-template>
</div>
